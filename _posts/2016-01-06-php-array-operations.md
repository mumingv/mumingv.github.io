---
layout: post
title: PHP数组操作
category: PHP
tags: [PHP]
description: None
---

> 本文是对数组操作方法的一些总结，包括：创建、增加、删除、修改、遍历/查找等等。

PHP的数组可以简单理解为key/value（键值对）的组合，根据是否显式指定key，数组可以分为索引数组和关联数组。其实PHP内部是不区分是索引数组还是关联数组的，因为key可以是整数也可以是字符串（但不能是其他类型哦！），不仅如此，在一个数组中key的类型可以混用，即一部分value使用整数作为key，另一部分value使用字符串作为key。对于value，可以是任何类型。

简单来讲，对于一个value，如果没有给其显式指定key，则默认使用整数作为其key。


# 一、创建操作


<font size='4'><b>空数组</b></font>
  
让我们从创建一个空数组开始，一般使用如下方式创建

    $colors = array();

或者，下面这种方式也可以：

    $colors = [];

不过第二种方式从PHP5.4版本才开始支持，考虑到版本兼容性，本文的例子均采用第一种方式。


<font size='4'><b>索引数组</b></font>

不指定key的话，就是创建一个索引数组

    $colors = array (
        '红色',
        '黄色',
        '蓝色',
    );

这种方式下，其实PHP内部是给各个value默认分配整型key的，可以使用print_r函数打印数组内容

    print_r($colors);

可以看到数组的信息

    Array
    (
        [0] => 红色
        [1] => 黄色
        [2] => 蓝色
    )

可以看到，PHP默认给数组各元素分配的key是从0开始逐一递增的整数。


<font size='4'><b>关联数组</b></font>

通常来讲，如果给数组的每个元素值指定一个“名字”，这样就会让人看一眼就知道这个元素值所代表的含义。这样数据就会显得更有“意义”。这就需要使用“关联数组”。

创建关联数组的方法如下

    $colors = array (
        'red' => '红色',
        'yellow' => '黄色',
        'blue' => '蓝色',
    );

使用print_r函数打印出来会是这样的：

    Array
    (
        [red] => 红色
        [yellow] => 黄色
        [blue] => 蓝色
    )


<font size='4'><b>混合数组</b></font>

如开头所说，PHP内部其实是不区分索引数组还是关联数组的，因为同一个数组的各元素，key的类型可以是整数值也可以是字符串。像这样：

    $colors = array (
        3 => '红色',
        '黄色',
        'blue' => '蓝色',
    );

打印出来看是这样的：

    Array
    (
        [3] => 红色
        [4] => 黄色
        [blue] => 蓝色
    )

从打印结果看，我们没有给'黄色'这个元素指定key，系统默认设置了key为整数4。为什么是4呢？原来PHP会给每个数组记录一个数字，用于给没有指定key的元素设置不重复的整数key值，如果用户显式指定的整数key值比这个数字大的话，系统记录的数字就会变更为该整数key值，遇到下一个没有指定key的元素时，就会将该数字加一并作为key分配给该元素。如果没有显式指定整数类型的key，则key值从0开始，像在上面创建“索引数组”时看到的那样。


<font size='4'><b>多维数组</b></font>

除了上面的一维数组外，还可以创建多维数组，以二维数组为例：

    $colors = array(
        '天空' => array('蓝色', '灰色'),
        '海洋' => array('深蓝', '浅蓝'),
    );

打印出来是这样的：

    Array
    (
        [天空] => Array
            (
                [0] => 蓝色
                [1] => 灰色
            )

        [海洋] => Array
            (
                [0] => 深蓝
                [1] => 浅蓝
            )

    )


<font size='4'><b>树形数组</b></font>

由于数组的元素也可以是一个数组，且可以无限嵌套，这样就带来了很大的灵活性，几乎可以“随心所欲”，不用担心有什么问题。

    $colors = array(
        '空气' => '无色',
        '天空' => array('蓝色', '灰色', '黄色'),
        '海洋' => array('深蓝', '浅蓝'),
    );

打印出来看是这样的：

    Array
    (
        [空气] => 无色
        [天空] => Array
            (
                [0] => 蓝色
                [1] => 灰色
                [2] => 黄色
            )

        [海洋] => Array
            (
                [0] => 深蓝
                [1] => 浅蓝
            )

    )

是不是感觉要逆天了？就是很“任性”啊！有木有？


<font size='4'><b>另类创建方式</b></font>

当然数组也可以这样创建：首先创建一个空数组，然后挨个元素往里“塞”。比如，我们创建一个和上面“树形数组”例子一样的数组：

    $colors = array();
    $colors['空气'] = '无色';
    $colors['天空'][0] = '蓝色';
    $colors['天空'][1] = '灰色';
    $colors['天空'][2] = '黄色';
    $colors['海洋'][0] = '深蓝';
    $colors['海洋'][1] = '浅蓝';

打印一下看看，和上面“树形数组”的结果是一样的：

    Array
    (
        [空气] => 无色
        [天空] => Array
            (
                [0] => 蓝色
                [1] => 灰色
                [2] => 黄色
            )

        [海洋] => Array
            (
                [0] => 深蓝
                [1] => 浅蓝
            )

    )


# 二、增加操作


<font size='4'><b>增加元素</b></font>


